<div class="register-form-container">
  <h2>Create Account</h2>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
    <!-- Name Input -->
    <div class="form-group">
      <label for="name">Name:</label>
      <input
        id="name"
        formControlName="name"
        [class.invalid]="name?.invalid && (name?.dirty || name?.touched)"
      >
      <div *ngIf="name?.invalid && (name?.dirty || name?.touched)" class="error-messages">
        <small *ngIf="name?.errors?.['required']">Name is required</small>
        <small *ngIf="name?.errors?.['minlength']">Name must be at least 2 characters</small>
        <small *ngIf="name?.errors?.['maxlength']">Name cannot exceed 50 characters</small>
      </div>
    </div>

    <!-- Email Input -->
    <div class="form-group">
      <label for="email">Email:</label>
      <input
        id="email"
        formControlName="email"
        [class.invalid]="email?.invalid && (email?.dirty || email?.touched)"
      >
      <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="error-messages">
        <small *ngIf="email?.errors?.['required']">Email is required</small>
        <small *ngIf="email?.errors?.['email']">Invalid email format</small>
      </div>
    </div>

    <!-- Password Input -->
    <div class="form-group">
      <label for="password">Password:</label>
      <input
        id="password"
        type="password"
        formControlName="password"
        [class.invalid]="password?.invalid && (password?.dirty || password?.touched)"
      >
      <div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="error-messages">
        <small *ngIf="password?.errors?.['required']">Password is required</small>
        <small *ngIf="password?.errors?.['minlength']">Password must be at least 6 characters</small>
        <small *ngIf="password?.errors?.['maxlength']">Password cannot exceed 50 characters</small>
      </div>
    </div>

    <!-- Phone Input -->
    <div class="form-group">
      <label for="phone">Phone Number (Optional):</label>
      <input
        id="phone"
        type="tel"
        formControlName="phone"
        placeholder="10-digit phone number"
        [class.invalid]="phone?.invalid && (phone?.dirty || phone?.touched)"
      >
      <div *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)" class="error-messages">
        <small *ngIf="phone?.errors?.['pattern']">Please enter a valid 10-digit phone number</small>
      </div>
    </div>

    <!-- Role Selection -->
    <div class="form-group">
      <label for="role">Role:</label>
      <select
        id="role"
        formControlName="role"
      >
        <option
          *ngFor="let roleOption of roles"
          [value]="roleOption.value"
        >
          {{ roleOption.label }}
        </option>
      </select>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="submit-button"
      [disabled]="registerForm.invalid"
    >
      Register
    </button>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error">
      {{ errorMessage }}
    </div>

    <!-- Already have an account link -->
    <div class="login-link">
      Already have an account?
      <a routerLink="/login">Login here</a>
    </div>
  </form>
</div>
